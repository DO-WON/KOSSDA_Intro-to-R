# Introduction to R

ì‚¬ëŒ: Do Won Kim, Hyowon Kim
ìƒíƒœ: KOSSDA TA

### Note

ì´ í˜ì´ì§€ëŠ” KOSSDA ë°©ë²•ë¡  ê°•ì¢Œ ìˆ˜ê°•ìƒë“¤ì„ ìœ„í•œ R ê¸°ì´ˆ íŠœí† ë¦¬ì–¼ì…ë‹ˆë‹¤. 

### Table of Contents

1. **Prerequisites** 
    - 1-1. ***Installing R RStudio***
        
        [R ì„¤ì¹˜í•˜ê¸°](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/R%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5%20ba5adfbe9cd2414fb0365b1b9469ecfb.md)
        
    - 1-2. ***Installing RStudio & R interface***
        
        [R Studio ì„¤ì¹˜ ë° R interface ì†Œê°œ](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/R%20Studio%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%8E%E1%85%B5%20%E1%84%86%E1%85%B5%E1%86%BE%20R%20interface%20%E1%84%89%E1%85%A9%E1%84%80%E1%85%A2%2073fc48ab89ee45449d4cbc4ad6046aa6.md)
        
    - 1-3. ***Creating a Workspace***
        
        [ì‘ì—… ê³µê°„(workspace) ë§Œë“¤ê¸°](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/%E1%84%8C%E1%85%A1%E1%86%A8%E1%84%8B%E1%85%A5%E1%86%B8%20%E1%84%80%E1%85%A9%E1%86%BC%E1%84%80%E1%85%A1%E1%86%AB(workspace)%20%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AF%E1%84%80%E1%85%B5%203658928eac0f441c8faf4bdada2971dd.md)
        

---

2. R ê¸°ë³¸ ë¬¸ë²• **Basic programming in R** 
    - 2-1. R ë¬¸ë²•ì˜ ê¸°ì´ˆ ***Communicating in R language***
        
        Rì€ ê¸°ë³¸ì ìœ¼ë¡œ í•¨ìˆ˜í˜• ì–¸ì–´ì…ë‹ˆë‹¤. í•¨ìˆ˜ëŠ” `í•¨ìˆ˜ëª…()`ì˜ í˜•íƒœë¡œ ë˜ì–´ ìˆê³ , `( )`ì•ˆì—ëŠ” í•„ìš”í•œ ì¸ìë“¤ì„ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¸ì(argument)ë€ íŠ¹ì • í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ëŠ” ì¡°ê±´ë“¤ì„ ì§€ì •í•´ì£¼ëŠ” í•¨ìˆ˜ì˜ ìš”ì†Œë¼ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤. (e.g. `lm(Y~X, data)`)
        
        í•œí¸, ì–´ë–¤ ì¸ìë“¤ì€ ë°˜ë“œì‹œ ê´„í˜¸ ì•ˆì— ì…ë ¥í•´ì£¼ì–´ì•¼ í•˜ëŠ” ë°˜ë©´, ì–´ë–¤ ì¸ìëŠ” ì…ë ¥í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ”ë°, ì´ë¥¼ ê¸°ë³¸ì¸ìë¼ê³  í•©ë‹ˆë‹¤. ê¸°ë³¸ì¸ìëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í•  ë•Œ íŠ¹ì • ì¡°ê±´ì´ ë¯¸ë¦¬ ì§€ì •ë˜ì–´ ìˆëŠ” ê²ƒì´ë¯€ë¡œ íŠ¹ë³„íˆ ë‹¤ë¥¸ ì¡°ê±´ì„ ì›í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ìƒëµí•´ë„ ë©ë‹ˆë‹¤. (e.g. `q()` :Rì˜ ì¢…ë£Œ ëª…ë ¹ì–´) 
        
        í•¨ìˆ˜ì˜ ê¸°ëŠ¥ê³¼ í•„ìš”í•œ ì¸ìë¥¼ ì°¾ê¸° ìœ„í•´ Rì˜ ë„ì›€ë§ì„ ì°¸ê³ í•˜ì‹œë©´ ë©ë‹ˆë‹¤. ì•Œê³ ì í•˜ëŠ” í•¨ìˆ˜ì— ëŒ€í•œ ë„ì›€ë§ì€ ì½˜ì†”ì°½ì—ì„œ `help(í•¨ìˆ˜ëª…)` ë˜ëŠ” `?í•¨ìˆ˜ëª…` ì„ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤. (e.g. `help(lm)` ë˜ëŠ” `?lm`) 
        
        ---
        
        ë‹¤ìŒì€ Rì—ì„œ ê°ì²´(object) ë˜ëŠ” ë³€ìˆ˜ë¥¼ ë§Œë“¤ê³  ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì•Œë ¤ ë“œë¦¬ê² ìŠµë‹ˆë‹¤. Rì—ì„œ ê°ì²´ë€, ë°ì´í„°ê°€ ë‹´ê²¨ ìˆëŠ” ë©”ëª¨ë¦¬ì˜ ì£¼ì†Œ ê°’, ì¦‰ ë°ì´í„°ë¥¼ ë‹´ëŠ” ê·¸ë¦‡ì…ë‹ˆë‹¤. Rì—ê²Œ ë¶„ì„í•´ì•¼ í•  ë°ì´í„°ë¥¼ ì¤„ ë•Œ ê°ì²´/ë³€ìˆ˜ë¼ëŠ” ê·¸ë¦‡ì— ë‹´ì•„ì„œ(=í• ë‹¹í•˜ì—¬) ì¤€ë‹¤ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤. (e.g.`ê°ì²´/ë³€ìˆ˜ ì´ë¦„ <- ì €ì¥í•  ê°’`) 
        
        ğŸ“Œ â€œí• ë‹¹â€í•œë‹¤ëŠ” ê²ƒì˜ ì˜ë¯¸: ê°’ì„ ê°ì²´ì— ì €ì¥í•œë‹¤ëŠ” ê²ƒ. ì˜ì–´ë¡œëŠ” assign (ì§€ì •, í• ë‹¹). í• ë‹¹ìë¡œëŠ” `<-`ë˜ëŠ” `=` ì„ ì‚¬ìš©í•¨. 
        
        ![`ë³€ìˆ˜ <- Data`](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled.png)
        
        `ë³€ìˆ˜ <- Data`
        
        - ê°ì²´/ë³€ìˆ˜ì˜ ì´ë¦„ì„ ì •í•  ë•Œì˜ ì£¼ì˜ì‚¬í•­:
            - ì´ë¦„ì€ í•œê¸€, ì˜ì–´, ìˆ«ì ë“±ì´ ê°€ëŠ¥í•˜ì§€ë§Œ ë°˜ë“œì‹œ ì²« ê¸€ìëŠ” ë¬¸ìì—¬ì•¼ í•¨
            - ì´ë¦„ì´ ì˜ì–´ì¼ ê²½ìš° ì†Œë¬¸ìì™€ ëŒ€ë¬¸ìëŠ” ë‹¤ë¥¸ ê¸€ìë¡œ ì¸ì‹í•¨
        
        ê°ì²´ì— ê°’ì„ í• ë‹¹í•˜ëŠ”(=ë³€ìˆ˜ì— ê°’ì„ ë‹´ëŠ”) ì—°ìŠµì„ í•´ë´…ì‹œë‹¤. 
        
        ```r
        var1 <- 1 # var1 ì´ë¼ëŠ” ë³€ìˆ˜ì— ìˆ«ì 1 ë‹´ê¸°
        var1 # ì¶œë ¥í•˜ì—¬ í™•ì¸ 
        var2 <- 2 # var2 ë¼ëŠ” ë³€ìˆ˜ì— ìˆ«ì 2 ë‹´ê¸°
        var2 # ì¶œë ¥í•˜ì—¬ í™•ì¸
        age <- 20 # age ë¼ëŠ” ë³€ìˆ˜ì— ìˆ«ì 20 ë‹´ê¸°
        Age <- 50 # Ageë¼ëŠ” ë³€ìˆ˜ì— ìˆ«ì 50 ë‹´ê¸°
        					# R is case sensitive ; age and Age are different
        var3 <- "ëŒ€í•™ì›ìƒ" # var3 ë³€ìˆ˜ì— ê¸€ì ë‹´ê¸°. 
        									# "" ì£¼ì˜
        var4 <- as.Date("2022-12-01") # ë‚ ì§œ ë°ì´í„° ë‹´ê¸°
        var5 <- "Hello world" # ë¬¸ìì—´ ë°ì´í„° ë‹´ê¸°
        ```
        
        - new line by ; (semicolon)
        
        ```r
        Name <- "Kossda" ; Age <- 25; City <- "Seoul" 
        Name 
        Age
        City 
        ```
        
    - 2-2. ë°ì´í„° ìœ í˜• ***Data type***
        - ë³€ìˆ˜ì— ë‹´ì„ ìˆ˜ ìˆëŠ” ë°ì´í„° ìœ í˜•
            - ìˆ«ìí˜• ë°ì´í„°(numeric)
                
                ```r
                x <- 100 # assign a number to the variable named x 
                class(x) # check the class of x 
                class(5,000) #ì—ëŸ¬ í™•ì¸! ìˆ«ì ì¤‘ì—ëŠ” ,(ì½¤ë§ˆ) ê°€ ì—†ìŒ
                
                #ì—°ì‚° ê°€ëŠ¥
                2+3 
                2*3
                2/3
                2^3
                10%%3
                # square root
                sqrt(2)
                # round to two decimal places 
                round(1.41421, 2) 
                # round down to nearest integer
                floor(1.41421)
                # absolute value
                abs(-2) 
                # exponential 
                exp(2) 
                # logarithm
                log(2)  
                
                # assign to a variable and use these variables to calculate
                height <- 170
                weight <- 60 
                # BMI = weight / height^2 (in metre) 
                BMI <- weight / (height/100)^2
                
                ```
                
            - ë¬¸ìí˜• ë°ì´í„°(character/string/text)
                
                ì°¸ê³ ) useful packages for dealing with texts/strings/characters in R : `stringr`, `tidytext`
                
                ```r
                class(5) #ë°ì´í„°ìœ í˜• í™•ì¸
                class("5")
                class("2022-12-01") #ë‚ ì§œ ê°™ì§€ë§Œ ë¬¸ìí˜•
                class("Hello World!") #ë¬¸ìì—´ë„ ë¬¸ìí˜•
                
                # assign to a variable 
                greeting <- "Hello World!" 
                greeting 
                
                x = "100" 
                class(x) # character type: let's convert it to numeric type
                as.numeric(x) # converts to numeric type 
                class(x) # you should assign it to x to update
                x = as.numeric(x)
                class(x) 
                
                x = "kossda" 
                as.numeric(x) # fails
                ```
                
            - ë‚ ì§œí˜• ë°ì´í„° `as.Date()`
                
                ì°¸ê³ ) ë‚ ì§œí˜• ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ”ë° íŠ¹í™”ëœ íŒ¨í‚¤ì§€: `lubridate`
                
                ```r
                date1 <- as.Date("2022-12-25")
                date2 <- as.Date("2022-12-01")
                date1 - date2  #ë‚ ì§œ ì—°ì‚° ê°€ëŠ¥
                difftime(date1, date2)
                ```
                
            - NAí˜•ê³¼ NULLí˜•
                - NA(Not Applicable)í˜•: í•™ë…„ ë³€ìˆ˜ì— 1, 2, 3, 4 ë“±ì˜ ê°’ë“¤ì´ ë“¤ì–´ì™€ì•¼ í•˜ëŠ”ë° â€œì†í¥ë¯¼â€ê°™ì€ ë¬¸ìí˜• ê°’ì´ ë“¤ì–´ì˜¨ ê²½ìš°.
                - NULL(Not Available)í˜•: ë°ì´í„° ê°’ì´ ì•„ì˜ˆ ì—†ë‹¤ëŠ” ë§. ì¦‰ ë¹„ì–´ ìˆìŒ. NAì™€ ë‹¬ë¦¬ ì—°ì‚°ì„ í•˜ë©´ NULLê°’ì„ ìë™ìœ¼ë¡œ ì œì™¸ì‹œí‚¤ê³  ì—°ì‚°ì„ ì§„í–‰í•¨.
                
                ```r
                no1 <- 3
                no2 <- NA
                no1 + no2 # ì—°ì‚° ê²°ê³¼ë¥¼ NAë¡œ ë§Œë“¤ì–´ ë²„ë¦¼
                
                sum(1, 2, NA)
                sum(1, 2, NULL) # NULLê°’ì„ ìë™ìœ¼ë¡œ ì œì™¸ì‹œí‚¤ê³  ì—°ì‚°ì„ ì§„í–‰í•¨
                
                x <- NA
                sum(1, 2, x)
                sum(1, 2, x, na.rm=TRUE) #NAê°’ ì œê±°
                x[is.na(x)] <- 0 # NAê°’ì„ 0ìœ¼ë¡œ ë°”ê¿ˆ
                sum(1, 2, x)
                ```
                
            - ë…¼ë¦¬í˜• ë°ì´í„°(logical: True or False)
        - ë³€ìˆ˜ ìœ í˜•
            
            ë°ì´í„°ë¥¼ ë¶„ì„í•  ë•ŒëŠ” ë³€ìˆ˜ì˜ ìœ í˜• ë° ì†ì„±ì— ë”°ë¼ ë¶„ì„ê¸°ë²•ì´ ë‹¬ë¼ì§
            
            | ë³€ìˆ˜ ìœ í˜• | ì˜ˆì‹œ | ë³€ìˆ˜ ì†ì„± | Rì—ì„œ ë¶„ë¥˜ |
            | --- | --- | --- | --- |
            | ëª…ëª©í˜•(nominal) | ì„±ë³„: ë‚¨ì„±, ì—¬ì„± | categorical | factor(ë²”ì£¼ë³€ìˆ˜) |
            | ìˆœì„œí˜•(ordinal) | ê±´ê°•ìƒíƒœ: poor, good, excellent | ordered/categorical | factor(ë²”ì£¼ë³€ìˆ˜) |
            | ì—°ì†í˜•(continuous) | ì—°ë ¹: 22, 34, 45 | numerical | numerical(ìˆ˜ëŸ‰ë³€ìˆ˜) |
            
            ```r
            diabetes <- c(1, 2, 1, 1)
            diabetes <- factor(diabetes) #ë²”ì£¼ë³€ìˆ˜ë¡œ ì²˜ë¦¬
            
            #ì•ŒíŒŒë²³ ìˆœì„œë¡œ 1=excellent, 2=good, 3=poorë¡œ ì •í•¨
            status <- c("poor", "good", "excellent", "poor")
            status <- factor(status)  
            
            #ìˆœì„œë¥¼ 1=poor, 2=good, 3=excellentë¡œ ì •í•¨
            status <- factor(status, levels=c("poor", "good", "excellent"))
            status <- factor(status, levels=c("poor", "good", "excellent"), order=TRUE)
            ```
            
    - 2-3. ë°ì´í„° êµ¬ì¡° ***Data structure***
        
        Rì—ì„œ ì·¨ê¸‰í•˜ëŠ” ë°ì´í„°ëŠ” ì—¬ëŸ¬ êµ¬ì¡°ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°€ì¥ ë‹¨ìˆœí•œ í˜•íƒœë¶€í„°, ì‹¤ì œë¡œ ë¶„ì„ì—ì„œ ë§ì´ ì“°ì´ëŠ” í˜•íƒœê¹Œì§€ í›‘ì–´ ë´…ì‹œë‹¤. 
        
        - **ë²¡í„°(Vector)**
            - ìˆ«ì ë˜ëŠ” ë¬¸ìì˜ ë‚˜ì—´
            - í•˜ë‚˜ì˜ ë²¡í„°ì—ëŠ” ë°˜ë“œì‹œ ë°ì´í„° ìœ í˜•ì´ ê°™ì€ ê°’ë“¤ë§Œ ë“¤ì–´ê°€ì•¼ í•¨
            
            ```r
            v1 <- 1:5 
            v2 <- c(6:10) # c() : combine 
            v3 <- seq(from = 1, to = 10, by = 2)
            v4 <- c("a", "b", "c")
            v5 <- rep(0, times = 10) 
            
            var1 <- c(1, 2, "3")
            class(var1)
            
            # Indexingì„ ì´ìš©í•œ ë²¡í„°ì˜ ì›ì†Œ ì ‘ê·¼ ë° ì—°ì‚°
            v7[1] <- v1[1] + v1[3]; v7 # v7 is not defined yet! 
            v7 <- NULL # empty object 
            v7[1] <- v1[1] + v1[3]; v7
            v7[2] <- v1[1] / 0; v7
            v7[3] <- 0/0; v7
            v7 <- v7[-1]; v7 # omit the first element 
            
            # ë¬¸ìì—´ ë²¡í„°
            fruit <- c("banana", "apple", "pine", "tree")
            fruit
            grep('p', fruit)
            grep('p', fruit, value = T)
            paste(fruit[3], fruit[2], sep = "") 
            substr(fruit[1], 3, 6)
            ```
            
        - **í–‰ë ¬(Matrix)**
            - ì—¬ëŸ¬ ê°œì˜ ë²¡í„°ë¡œ êµ¬ì„±ëœ, ê°€ë¡œ X ì„¸ë¡œ í˜•íƒœì˜ í–‰ë ¬
            - ë²¡í„°ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë™ì¼í•œ ìœ í˜•ì˜ ë°ì´í„°ê°€ ë“¤ì–´ê°€ì•¼ í•¨
            
            ```r
            ?matrix 
            mat1 <- matrix(c(1, 3, 6, 9, 12, 15), nrow = 2, ncol = 3); mat1 
            mat2 <- matrix(c(1, 3, 6, 9, 12, 15), nrow = 2, ncol = 3, byrow = T); mat2 
            
            v8 <- mat.or.vec(nr = 3, nc = 2); v8 
            v9 <- mat.or.vec(2, 0); v9 
            v10 <- as.vector(mat2); v10 # as.vector() : make the object into 'vector'
            mat3 <- matrix(v10, nrow = 3, ncol = 2); mat3
            
            ### vectorë¥¼ ì´ìš©í•œ matrix ìƒì„±
            mat4 <- rbind(v1, v2, v3); mat4
            mat5 <- cbind(v1, v2, v3); mat5
            mat6 <- mat4 %*% mat5; mat6 # matrix multiplication 
            mat7 <- mat4 * mat4; mat7 # Kronecker product ( Different from %*% !! )
            
            ### indexing / ì°¨ì› í™•ì¸
            m <- matrix(1:9, 3, 3); m 
            m[, 1:2]
            m[c(1,3),]
            m[2:3, 2:3]
            dim(m)
            length(m)
            length(v1)
            ```
            
        - **ë°°ì—´(Array)**
            - ë§¤íŠ¸ë¦­ìŠ¤í˜•ì„ 1ì¸µ, 2ì¸µ, 3ì¸µì²˜ëŸ¼ ë†’ì´ ìŒ“ëŠ” ê²ƒ
            - ë²¡í„°, ë§¤íŠ¸ë¦­ìŠ¤ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë™ì¼í•œ ìœ í˜•ì˜ ë°ì´í„°ê°€ ë“¤ì–´ê°€ì•¼ í•¨
            
            ```r
            array1 <- array(c(1:12), dim=c(2,2,3)) # dim=c(í–‰, ì—´, ë†’ì´)
            array1[1, 1, 1]
            array1[1, 1, 2]
            array1[1, 2, 2]
            ```
            
        - **ë¦¬ìŠ¤íŠ¸(List)**
            - ì„œë¡œ ë‹¤ë¥¸ ë°ì´í„° ìœ í˜•ë“¤ì„ ë¬¶ì–´ì„œ í•˜ë‚˜ì˜ ë¦¬ìŠ¤íŠ¸ë¡œ ì €ì¥ ê°€ëŠ¥
            - ì£¼ë¡œ í…ìŠ¤íŠ¸ ë¶„ì„ì—ì„œ ë§ì´ ì‚¬ìš©
            - ë¦¬ìŠ¤íŠ¸ = í° ë°©
                - ë³€ìˆ˜ = ì‘ì€ ë°©
                    - ê°’
            
            ```r
            list1 <- list(NO= c(7, 10, 8), 
            							NAME=c("ì†í¥ë¯¼", "í•´ë¦¬ì¼€ì¸", "í˜ë¥´ë‚œë°ìŠ¤"), 
            							BIRTH=c("1992-07-08", "1993-07-28", "1994-09-08"))
            
            list1 # ì‘ì€ ë°©: NO, NAME, BIRTH
            list1$NO # list1ì˜ NOë¼ëŠ” ë³€ìˆ˜(ì‘ì€ë°©) ì¶œë ¥í•´ë¼ 
            list1[["NO"]] # ê°™ì€ ëª…ë ¹ì–´ [[ ]]
            list1[["NAME"]][1] # list1ì˜ NAMEì´ë¼ëŠ” ì´ë¦„ì˜ ì‘ì€ ë°©ì—ì„œ ì²« ë²ˆì§¸ ìš”ì†Œë¥¼ ì¶œë ¥í•´ë¼ 
            list1$birth
            list1[3]
            
            list2 = list(c(1,5,3), matrix(1:6, nrow=3), c('hello', 'world'))
            list2
            list2[[1]] ; mode(list2[[1]])
            list2[1] ; mode(list2[1])
            list2[[2]][2,1]
            list2[2][2,1] # Error ! 
            list2[[2]][2] <- 'world' ; list2[[2]]
            list2[c(1,3)]
            ```
            
        - **ë°ì´í„° í”„ë ˆì„(Data Frame)**
            - ë‹¤ì–‘í•œ ìœ í˜•ì˜ ë°ì´í„°ë“¤ì„ ì €ì¥. ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” í˜•íƒœì„.
            - ì—‘ì…€ í‘œë¼ê³  ìƒê°í•˜ë©´ ë¨.
            
            | NO | NAME | BIRTH |
            | --- | --- | --- |
            | 7 | ì†í¥ë¯¼ | 1992-07-08 |
            | 10 | í•´ë¦¬ì¼€ì¸ | 1993-07-28 |
            | 9 | í™€ë€ë“œ | 2000-07-21 |
            
            ```r
            no <- c(7, 10, 9)
            name <- c("ì†í¥ë¯¼", "í•´ë¦¬ì¼€ì¸", "í™€ë€ë“œ")
            birth <- c("1992-07-08", "1993-07-28", "2000-07-21")
            player <- data.frame(NO=no, NAME=name, BIRTH=birth)
            player 
            # or 
            data.frame(list1)
            
            m
            data <- data.frame(m); data # Difference btw 'matrix' and 'dataframe' ? 
            colnames(data)
            rownames(data) <- c("N1", "N2", "N3")
            data
            data <- data.frame(data, "class" = c(1, 1, 3))
            data
            data[, 4] # data[row index, column index]
            data$class # data$variable
            ```
            
    - 2-4. R íŒ¨í‚¤ì§€ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ***R packages and libraries***
        - íŒ¨í‚¤ì§€ë€?
            - íŒ¨í‚¤ì§€ëŠ” ë‹¤ì–‘í•œ í•¨ìˆ˜, ëª…ë ¹ì–´, ë°ì´í„°ë“¤ì˜ ì§‘í•©. ì›í•˜ëŠ” ë¶„ì„ì— ì í•©í•œ íŒ¨í‚¤ì§€ë¥¼ ì°¾ì•„ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•¨. êµ¬ê¸€ë§ í•„ìˆ˜!
            - Rì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” ë² ì´ìŠ¤ í•¨ìˆ˜ë‚˜ ë°ì´í„° ë“± ì™¸ì— íŠ¹ì • ë¶„ì„ì´ ê°€ëŠ¥í•˜ë„ë¡ ì—¬ëŸ¬ ì‚¬ëŒì´ ë§Œë“¤ì–´ ì œê³µí•˜ëŠ” í•¨ìˆ˜ë“¤ì˜ ë¬¶ìŒì¸ íŒ¨í‚¤ì§€ë“¤ì´ ì¡´ì¬í•¨.
            - íŒ¨í‚¤ì§€ëŠ” CRAN([http://cran.r-project.org](http://cran.r-project.org))ì—ì„œ ëª¨ë“  íŒ¨í‚¤ì§€ë¥¼ ì§ì ‘ ê²€ìƒ‰í•˜ê³  ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆìŒ. ì•„ë˜ ì‚¬ì§„ì—ì˜ ì™¼ìª½ì˜ [Packages]ë¥¼ í´ë¦­í•˜ë©´ íŒ¨í‚¤ì§€ê°€ ë§Œë“¤ì–´ì§„ ë‚ ì§œ ê¸°ì¤€ìœ¼ë¡œ í˜¹ì€ ì´ë¦„ ê¸°ì¤€ìœ¼ë¡œ íŒ¨í‚¤ì§€ ëª©ë¡ì„ í™•ì¸ì´ ê°€ëŠ¥í•˜ë©° ë‹¤ìš´ë¡œë“œ ì—­ì‹œ ê°€ëŠ¥í•¨.
                
                ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%201.png)
                
        - íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë°©ë²•
            - íŒ¨í‚¤ì§€ëŠ” ë°˜ë“œì‹œ ì¸í„°ë„· í™˜ê²½ì´ ì¡°ì„±ë˜ì–´ì•¼ ì„¤ì¹˜ ê°€ëŠ¥í•¨
            - íŒ¨í‚¤ì§€ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬>ë¬¸ì„œ>Rí´ë”ì— ì €ì¥ë¨
            - ê²½ë¡œë¥¼ í™•ì¸í•˜ê³  ì‹¶ìœ¼ë©´ .libPaths() ëª…ë ¹ì–´ ì…ë ¥
            
            1) ëª…ë ¹ì–´ ì§ì ‘ ì…ë ¥
            
            ```r
            install.packages("tidyverse")
            install.packages("ggplot2")
            
            or
            install.packages(c("tidyverse", "ggplot2"))
            ```
            
            2)  ë©”ë‰´ ì´ìš©
            
            ìƒë‹¨ [Tools] > [Install Packages] í´ë¦­í•œ í›„ ë‚˜íƒ€ë‚˜ëŠ” ì°½ì— íŒ¨í‚¤ì§€ ì´ë¦„ì„ ì…ë ¥í•œ í›„ ë‹¤ìš´
            
            ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%202.png)
            
            ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%203.png)
            
            3) CRAN([http://cran.r-project.org](http://cran.r-project.org)) ì´ìš©
            
        - íŒ¨í‚¤ì§€ ì‚¬ìš©í•˜ê¸°
            
            íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œ í›„ì— ê·¸ íŒ¨í‚¤ì§€ë¥¼ ì´ìš©í•´ì„œ ë¶„ì„ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” ì„¤ì¹˜í•œ íŒ¨í‚¤ì§€ë¥¼ ë¶ˆëŸ¬ì™€ì•¼ í•¨
            
            1) íŒ¨í‚¤ì§€ ë¶ˆëŸ¬ì˜¤ê¸°: ë°˜ë“œì‹œ library(â€íŒ¨í‚¤ì§€ëª…â€) í•¨ìˆ˜ë¡œ ë¶ˆëŸ¬ë“¤ì„. Rì„ ì‚¬ìš©í•˜ë‹¤ê°€ ì¢…ë£Œí•˜ê³  ë‹¤ì‹œ ì‹œì‘í–ˆì„ ê²½ìš°ì—ë„ ë‹¤ì‹œ library(â€íŒ¨í‚¤ì§€ëª…â€)ì„ ì‹¤í–‰í•˜ì—¬ì•¼ íŒ¨í‚¤ì§€ ì•ˆì— ì—¬ëŸ¬ í•¨ìˆ˜ë‚˜ ë°ì´í„°ë“¤ì„ ì“¸ ìˆ˜ ìˆìŒ. 
            
            ```r
            #install.packages("tidyverse")
            #install.packages("ggplot2")
            library("tidyverse")
            #library("tidyverse")
            
            # update.packages("íŒ¨í‚¤ì§€ëª…") # ì„¤ì¹˜ë˜ì–´ ìˆëŠ” í•´ë‹¹ íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸
            # installed.packages()       # ì–´ë–¤ íŒ¨í‚¤ì§€ë“¤ì´ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
            # remove.packages("íŒ¨í‚¤ì§€ëª…â€) # í•´ë‹¹ íŒ¨í‚¤ì§€ ì‚­ì œ
            ```
            
            ![ **`tidyverse`**](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%204.png)
            
             **`tidyverse`**
            
            2) íŒ¨í‚¤ì§€ ì‚¬ìš©í•˜ì—¬ ë¶„ì„
            
        

---

3. ë°ì´í„° ë‹¤ë£¨ê¸° **Data Management** 
    - 3-1. ë‚´ì¥ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ***Loading build-in data***
        
        Rì—ëŠ” ëˆ„êµ¬ë‚˜ ì‚¬ìš©ê°€ëŠ¥í•œ **ë‚´ì¥ ë°ì´í„°**ë“¤ì´ ìˆìŠµë‹ˆë‹¤. ê°€ì¥ ëŒ€í‘œì ì¸ ëª‡ ê°€ì§€ ë‚´ì¥ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ë²•ì„ ì•Œë ¤ ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ì´ ë°ì´í„°ë“¤ì€ ì‹¤ìŠµ ë‚´ë‚´ ì¢…ì¢… ë“±ì¥í•˜ë¯€ë¡œ ë°ì´í„°ê°€ ì–´ë–»ê²Œ ìƒê²¼ëŠ”ì§€, ì–´ë–¤ ë³€ìˆ˜ë“¤ì´ ìˆëŠ”ì§€ ë“±ì— ìµìˆ™í•´ ì§€ì‹œê¸¸ ë°”ëë‹ˆë‹¤. 
        
        ë¨¼ì €, `data()`ë¥¼ í†µí•´ ë‚´ì¥ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í•¨ìˆ˜ ì•ˆì—ëŠ” ë°ì´í„°ëª…ì„ ê¸°ì…í•´ ì£¼ì„¸ìš”. 
        
        ```r
        # most used built-in datasets: e.g. mtcars 
        data("mtcars")
        ```
        
        `mtcars`ë°ì´í„°(Motor Trend Car Road Tests)ëŠ” 1974ë…„ Motor Trend US magazineì—ì„œ ì¶”ì¶œí•œ 32ì¢…ì˜ ìë™ì°¨ì˜ ì—¬ëŸ¬ íŠ¹ì„±ë“¤ì„ ë‹´ì€ ë°ì´í„°ì…ë‹ˆë‹¤. ë°ì´í„° í”„ë ˆì„ì€ 32ê°œì˜ ì¼€ì´ìŠ¤(í–‰)ê³¼ 11ê°œì˜ ë³€ìˆ˜(ì—´)ë¡œ ì´ë¤„ì ¸ ìˆìŠµë‹ˆë‹¤. 
        
        | ë³€ìˆ˜ | ì˜ë¯¸ |
        | --- | --- |
        | mpg | Miles/(US) gallon |
        | cyl	 | Number of cylinders |
        | disp	 | Displacement (cu.in.) |
        | hp	 | Gross horsepower |
        | drat	 | Rear axle ratio |
        | wt | Weight (1000 lbs) |
        | qsec	 | 1/4 mile time |
        | vs	 | Engine (0 = V-shaped, 1 = straight) |
        | am	 | Transmission (0 = automatic, 1 = manual) |
        | gear	 | Number of forward gears |
        | carb	 | Number of carburetors |
        
        ```r
        # ë°ì´í„°ê°€ ì–´ë–»ê²Œ ìƒê²¼ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•: 
        # (1) head(): ë°ì´í„°í”„ë ˆì„ì˜ ìƒìœ„ ëª‡ ê°œ í–‰ë“¤ì„ ì¶œë ¥
        head(mtcars)
        
        # (2) summary()
        summary(mtcars) 
        
        # (3) tidyverse íŒ¨í‚¤ì§€ì˜ glimpse()
        library(tidyverse)
        glimpse(mtcars)
        ```
        
        íŒ¨í‚¤ì§€ ë‚´ì— ë‚´ì¥ë˜ì–´ ìˆëŠ” ë°ì´í„°ë“¤ë„ ìˆìŠµë‹ˆë‹¤. ë¨¼ì € íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œ í›„, `library()`ë¥¼ í†µí•´ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©ê°€ëŠ¥í•˜ë„ë¡ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤. ê·¸ ë‹¤ìŒì€ ë˜‘ê°™ì€ ë°©ì‹ìœ¼ë¡œ `data()`ë¥¼ í†µí•´ íŒ¨í‚¤ì§€ ë‚´ì¥ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ ì£¼ì„¸ìš”. ì €í¬ëŠ” gapminderë¼ëŠ” íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê³ , ë‚´ì¥ ë°ì´í„°ì¸ `gapminder`ë¥¼ ë¶ˆëŸ¬ì™€ ë³¼ê²Œìš”. 
        
        ```r
        # datasets within packages 
        install.packages("gapminder") 
        library(gapminder)
        data("gapminder")
        ```
        
        **`gapminder`**Â ë°ì´í„°í”„ë ˆì„ì—ëŠ” ì´ ì—¬ì„¯ ê°œì˜ ë³€ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤. 
        
        | ë³€ìˆ˜ | ì˜ë¯¸ |
        | --- | --- |
        | country | êµ­ê°€ |
        | continent | ëŒ€ë¥™ |
        | year | ì—°ë„ |
        | lifeExp | ê¸°ëŒ€ìˆ˜ëª… |
        | pop | ì´ ì¸êµ¬ ìˆ˜ |
        | gdpPercap | 1ì¸ë‹¹ êµ­ë‚´ì´ìƒì‚° (ë‹¨ìœ„: international dollars - "a hypothetical unit of currency that has the same purchasing power parity that the U.S. dollar had in the United States at a given point in time") |
        
        ```r
        # ë°ì´í„°ê°€ ì–´ë–»ê²Œ ìƒê²¼ëŠ”ì§€ í™•ì¸í•´ ë³´ì„¸ìš”. 
        head(gapminder) 
        summary(gapminder) 
        ```
        
    - 3-2. ë°ì´í„° ì €ì¥í•˜ê¸°(ë‚´ë³´ë‚´ê¸°), ë¶ˆëŸ¬ì˜¤ê¸° ***Exporting and importing data***
        
        Rì—ì„œëŠ” ë°ì´í„°í”„ë ˆì„ì„ SAS, SPSS, Stata, ê·¸ë¦¬ê³  csv ë“± ë‹¤ì–‘í•œ í™•ì¥ìë¥¼ ì§€ë‹Œ ë°ì´í„° íŒŒì¼ë¡œ ë‚´ë³´ë‚´ê±°ë‚˜, í˜¹ì€ ë‹¤ì–‘í•œ í™•ì¥ìë¥¼ ì§€ë‹Œ ë°ì´í„° íŒŒì¼ì„ Rì— ë°ì´í„°í”„ë ˆì„ í˜•íƒœë¡œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°ì´í„°ë¥¼ ë‚´ë³´ë‚´ê³ (export), ë¶ˆëŸ¬ì˜¬(import) ë•Œì—ëŠ”  `haven`íŒ¨í‚¤ì§€ì™€ `readr`íŒ¨í‚¤ì§€ë¥¼ ëŒ€í‘œì ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ì˜ˆì‹œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. ì‹¤ìŠµì—ì„œëŠ” dtaí™•ì¥ìë¥¼ ì§€ë‹Œ StataíŒŒì¼ë¡œ ë‚´ë³´ë‚´ê³ , ë‹¤ì‹œ ê·¸ íŒŒì¼ì„ Rë¡œ ë¶ˆëŸ¬ì˜¤ëŠ” ì—°ìŠµì„ í•¨ê»˜ í•´ë³´ê² ìŠµë‹ˆë‹¤. 
        
        ```r
        # The easiest way to get haven is to install the whole tidyverse:
        install.packages("tidyverse")
        
        # load "haven" package
        library(haven)
        
        # SAS
        write_sas(mtcars, "mtcars.sas7bdat") # SAS íŒŒì¼ë¡œ ë‚´ë³´ë‚´ê¸°
        read_sas("mtcars.sas7bdat") # SAS íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ê¸° 
        
        # SPSS
        write_sav(mtcars, "mtcars.sav") # SPSS íŒŒì¼ë¡œ ë‚´ë³´ë‚´ê¸°
        read_sav("mtcars.sav") # SPSS íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ê¸° 
        
        # Stata
        write_dta(mtcars, "mtcars.dta") 
        read_dta("mtcars.dta")
        ```
        
        ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™”ëŠ”ë° mtcars ë‚´ì¥ ë°ì´í„°(ì›ë³¸)ì™€ ì¡°ê¸ˆ ë‹¤ë¦…ë‹ˆë‹¤. ë‚´ì¥ ë°ì´í„°ì—ëŠ” í–‰ì˜ ì´ë¦„(row names)ì´ ê° ìë™ì°¨ ì¢…ë¥˜ì˜€ìŠµë‹ˆë‹¤. ì¦‰, â€œìë™ì°¨ ì¢…ë¥˜â€ê°€ ë”°ë¡œ ë³€ìˆ˜ë¡œ ìˆì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. 
        
        ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%205.png)
        
        ```r
        # check row names 
        rownames(mtcars) 
        ```
        
        ë”°ë¼ì„œ ë¨¼ì € mtcars ì›ë³¸ ë°ì´í„°ì— â€œcarâ€ì´ë¼ëŠ” ì´ë¦„ì„ ì§€ë‹Œ ìƒˆë¡œìš´ ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì¤ì‹œë‹¤. ìœ„ì—ì„œ í™•ì¸í•œ rownames(mtcars)ë¥¼ `mtcars`ë°ì´í„°í”„ë ˆì„ì˜ ìƒˆë¡œìš´ ë³€ìˆ˜ â€œcarâ€ë¡œ í• ë‹¹ì„ í•´ì¤ë‹ˆë‹¤. 
        
        ```r
        mtcars$car = rownames(mtcars) 
        head(mtcars) # check 
        ```
        
        ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%206.png)
        
        car ë³€ìˆ˜ê°€ ì˜ ìƒì„±ëìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ car ë³€ìˆ˜ë¥¼ ìƒˆë¡œ ë§Œë“¤ì–´ì¤€ `mtcars`ë°ì´í„°ë¥¼ stata íŒŒì¼ë¡œ ë‚´ë³´ë‚¸ í›„, ë‹¤ì‹œ ë¶ˆëŸ¬ì™€ ë´…ì‹œë‹¤. 
        
        ```r
        write_dta(mtcars, "mtcars.dta") 
        read_dta("mtcars.dta")
        ```
        
        read_dta() í•¨ìˆ˜ë¥¼ í†µí•´ ë¶ˆëŸ¬ì™”ì„ ë•Œ ë°ì´í„°ê°€ console ì°½ì— ì˜ ëœ¨ë„¤ìš”. í•˜ì§€ë§Œ ì£¼ì˜í•´ì•¼ í•  ì ì€ ì´ ë°ì´í„°ëŠ” consoleì— ëœ¨ê¸°ë§Œ í•  ë¿, RStudioì˜ ê°ì²´(object)ë¡œ ì €ì¥ëœ ê²ƒì€ ì•„ë‹ˆë¼ëŠ” ì ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ê°ì²´ì— ë”°ë¡œ í• ë‹¹(assign)ì„ í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. `new_mtcars`ë¼ëŠ” ì´ë¦„ì„ ì§€ë‹Œ ë°ì´í„°ë¡œ í• ë‹¹ì„ í•´ì¤ì‹œë‹¤. 
        
        ```r
        new_mtcars = read_dta("mtcars.dta")
        ```
        
        ![new_mtcarsë¡œ í• ë‹¹ì´ ì˜ ë˜ì—ˆë‹¤ë©´, RStudioì˜ Environment ì°½ì— ì˜ ë¶ˆëŸ¬ì™€ ì¡ŒìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%207.png)
        
        new_mtcarsë¡œ í• ë‹¹ì´ ì˜ ë˜ì—ˆë‹¤ë©´, RStudioì˜ Environment ì°½ì— ì˜ ë¶ˆëŸ¬ì™€ ì¡ŒìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
        
        ì´ë ‡ê²Œ ì™¸ë¶€ í™•ì¥ìë¥¼ ì§€ë‹Œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ë•Œì—ëŠ” ìƒˆë¡œìš´ ê°ì²´ë¡œ ì €ì¥ì„ í•´ì£¼ì…”ì•¼ë§Œ, ì´ ë°ì´í„°í”„ë ˆì„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
        
        ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ë•Œ ë” ì‰¬ìš´ ë°©ë²•ì€ file ì°½ì—ì„œ ë¶ˆëŸ¬ì˜¤ê³  ì‹¶ì€ ë°ì´í„°ë¥¼ í´ë¦­í•˜ê³ , Import Dataset ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒì…ë‹ˆë‹¤. 
        
        ![ì°¸ê³ : ì´ë ‡ê²Œ ì‰½ê²Œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ë ¤ë©´, ë¶ˆëŸ¬ì˜¤ê³ ì í•˜ëŠ” ë°ì´í„°ê°€ R í”„ë¡œì íŠ¸ í´ë” ì•ˆì— ë“¤ì–´ ìˆì–´ì•¼ê² ì£ ? í”„ë¡œì íŠ¸ ê´€ë¦¬ì˜ ì¤‘ìš”ì„±ì´ ì—¬ê¸°ì„œ ë‚˜ì˜µë‹ˆë‹¤. ë™ì¼í•œ í”„ë¡œì íŠ¸ í´ë”(ë””ë ‰í† ë¦¬) ì•ˆì— ëª¨ë“  íŒŒì¼ë“¤ì„ ë„£ê³  ê´€ë¦¬í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤. ](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%208.png)
        
        ì°¸ê³ : ì´ë ‡ê²Œ ì‰½ê²Œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ë ¤ë©´, ë¶ˆëŸ¬ì˜¤ê³ ì í•˜ëŠ” ë°ì´í„°ê°€ R í”„ë¡œì íŠ¸ í´ë” ì•ˆì— ë“¤ì–´ ìˆì–´ì•¼ê² ì£ ? í”„ë¡œì íŠ¸ ê´€ë¦¬ì˜ ì¤‘ìš”ì„±ì´ ì—¬ê¸°ì„œ ë‚˜ì˜µë‹ˆë‹¤. ë™ì¼í•œ í”„ë¡œì íŠ¸ í´ë”(ë””ë ‰í† ë¦¬) ì•ˆì— ëª¨ë“  íŒŒì¼ë“¤ì„ ë„£ê³  ê´€ë¦¬í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤. 
        
        ![ë¯¸ë¦¬ë³´ê¸° ì°½ì´ ëœ¨ê³ , í•˜ë‹¨ì— Code Previewê°€ ëœ¹ë‹ˆë‹¤. `library(haven)`ì„ í†µí•´ haven íŒ¨í‚¤ì§€ë¥¼ ë¡œë“œí•œ í›„, `read_dta()` í•¨ìˆ˜ë¥¼ í†µí•´ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ mtcarsë¼ëŠ” ê°ì²´ë¡œ ì €ì¥í•´ì£¼ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ì´ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì—¬ R Scriptì— ì˜®ê¸°ê±°ë‚˜, ìš°ì¸¡ í•˜ë‹¨ì˜ Import ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ê·¸ëŒ€ë¡œ ì‹œí–‰í•´ ì£¼ì‹œë©´ ë©ë‹ˆë‹¤. ](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%209.png)
        
        ë¯¸ë¦¬ë³´ê¸° ì°½ì´ ëœ¨ê³ , í•˜ë‹¨ì— Code Previewê°€ ëœ¹ë‹ˆë‹¤. `library(haven)`ì„ í†µí•´ haven íŒ¨í‚¤ì§€ë¥¼ ë¡œë“œí•œ í›„, `read_dta()` í•¨ìˆ˜ë¥¼ í†µí•´ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ mtcarsë¼ëŠ” ê°ì²´ë¡œ ì €ì¥í•´ì£¼ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ì´ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì—¬ R Scriptì— ì˜®ê¸°ê±°ë‚˜, ìš°ì¸¡ í•˜ë‹¨ì˜ Import ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ê·¸ëŒ€ë¡œ ì‹œí–‰í•´ ì£¼ì‹œë©´ ë©ë‹ˆë‹¤. 
        
        ë‹¤ìŒì€ `readr`íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ csv, ì—‘ì…€ íŒŒì¼ ë“±ì„ ë¶ˆëŸ¬ì˜¤ê³  ë‚´ë³´ë‚´ëŠ” ì—°ìŠµì„ í•´ë´…ì‹œë‹¤. 
        
        ```r
        # load "readr" package
        library(readr)
        
        # CSV
        write_csv(mtcars, "mtcars.csv") # mtcars ë°ì´í„°í”„ë ˆì„ ê°ì²´ë¥¼ mtcars.csvë¼ëŠ” ì´ë¦„ì„ ê°€ì§„ csv íŒŒì¼ë¡œ ë‚´ë³´ë‚´ë¼ 
        new_mtcars2 <- read_csv("mtcars.csv") # mtcars.csv íŒŒì¼ì„ Rì— ë¶ˆëŸ¬ ë“¤ì—¬ì™€ new_mtcars2ë¼ëŠ” ì´ë¦„ì„ ê°€ì§„ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ì €ì¥í•´ë¼ 
        ```
        
    - 3-3. ë°ì´í„° ì „ì²˜ë¦¬ ***Data wrangling & pre-processing: Base functions and Tidyverse***
        
        ë¶„ì„í•˜ê³ ì í•˜ëŠ” ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¨ ë‹¤ìŒì—ëŠ” ë°ì´í„°ê°€ ì–´ë–»ê²Œ ìƒê²¼ëŠ”ì§€ë¥¼ íŒŒì•…í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë©°, ì´ì™€ ê´€ë ¨í•´ì„œëŠ” 3-1. ë‚´ì¥ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° íŒŒíŠ¸ì—ì„œ ì„¸ ê°€ì§€ì˜ ë°©ë²•ì„ ì•Œë ¤ë“œë ¸ìŠµë‹ˆë‹¤. ì´ë²ˆì—ëŠ” `mtcars`ë§Œí¼ì´ë‚˜ ìœ ëª…í•œ ë‚´ì¥ë°ì´í„°ì¸ `iris` ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ ì£¼ì„¸ìš”. 
        
        ```r
        # built-in data: "iris" ë‚´ì¥ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° 
        data("iris")
        
        # ë°ì´í„°ê°€ ì–´ë–»ê²Œ ìƒê²¼ëŠ”ì§€ ì‚´í´ë´…ë‹ˆë‹¤. 
        summary(iris) 
        str(iris)
        glimpse(iris) # tidyverse 
        
        # ë²”ì£¼í˜• ë³€ìˆ˜ì˜ ê²½ìš°, table() í•¨ìˆ˜ë¥¼ í†µí•´ ë¹ˆë„ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. 
        table(iris$Species)
        ```
        
        ë°ì´í„°ê°€ ì–´ë–»ê²Œ ìƒê²¼ëŠ”ì§€ í™•ì¸í•œ í›„ì—ëŠ”, ë¶„ì„ì— ìš©ì´í•œ í˜•íƒœë¡œ ì› ë°ì´í„°(raw data)ë¥¼ ê°€ê³µí•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ë¥¼ ë°ì´í„° ì „ì²˜ë¦¬(data pre-processing)ì´ë¼ê³  í•©ë‹ˆë‹¤. Rì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” base í•¨ìˆ˜ë“¤ì„ í™œìš©í•œ ì „ì²˜ë¦¬ë¥¼ ë¨¼ì € ë°°ìš°ê³ , `tidyverse` íŒ¨í‚¤ì§€ë¥¼ í™œìš©í•œ ê°„í¸í•œ ì „ì²˜ë¦¬ë¥¼ ë°°ìš°ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. 
        
        **Indexing: ë°ì´í„°í”„ë ˆì„ì—ì„œ ì›í•˜ëŠ” í–‰, ì—´ ì¶”ì¶œí•˜ê¸°** 
        
        - Base syntax in R
            
            ê¸°ë³¸ ë¬¸ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤: `ë°ì´í„°í”„ë ˆì„[ í–‰ ,  ì—´ ]`. ë¨¼ì € ê´€ì‹¬ ì¼€ì´ìŠ¤(=í–‰)ì„ ì¶”ì¶œí•˜ëŠ” ë°©ë²•ì„ ì—°ìŠµí•´ ë´…ì‹œë‹¤. 
            
            ```r
            # iris ë°ì´í„°ì—ì„œ ì²« ë²ˆì§¸ í–‰ì„ ì¶”ì¶œí•˜ë¼
            iris[1,]
            
            # ì²« ë²ˆì§¸ë¶€í„° ë‹¤ì„¯ ë²ˆì§¸ê¹Œì§€ì˜ í–‰ì„ ì¶”ì¶œí•˜ë¼
            iris[1:5, ] # : = ~ 
            
            # ì²« ë²ˆì§¸, ì„¸ ë²ˆì§¸, ë‹¤ì„¯ ë²ˆì§¸ í–‰ì„ ì¶”ì¶œí•˜ë¼
            iris[c(1, 3, 5), ] # c() = combine()
            
            # ì¡°ê±´ë¶€ ì¶”ì¶œ: which() í•¨ìˆ˜ ì‚¬ìš© 
            	# (1) Sepal.Lengthê°€ í‰ê·  ë¯¸ë§Œì¸ í–‰ë“¤ì„ ì¶”ì¶œí•˜ë¼ 
            iris[which(iris$Sepal.Length < mean(iris$Sepal.Length)),]
            
            	# (2) Sepal.Widthê°€ í‰ê·  ì´ìƒì¸ í–‰ë“¤ì„ ì¶”ì¶œí•˜ë¼
            iris[which(iris$Sepal.Width >= mean(iris$Sepal.Width)),]
            
            	# (3) Speciesê°€ setosaì¸ í–‰ë“¤ì„ ì¶”ì¶œí•˜ë¼
            iris[which(iris$Species == "setosa"),]
            		# remark: = vs. == 
            
            # ì¡°ê±´ë¶€ ì¶”ì¶œ: subset() ì‚¬ìš© 
            	# (1) Sepal.Lengthê°€ í‰ê·  ë¯¸ë§Œì¸ í–‰ë“¤ì„ ì¶”ì¶œí•˜ë¼ 
            subset(iris, iris$Sepal.Length < mean(iris$Sepal.Length))
            
            	# (2) Sepal.Widthê°€ í‰ê·  ì´ìƒì¸ í–‰ë“¤ì„ ì¶”ì¶œí•˜ë¼
            subset(iris, iris$Sepal.Width >= mean(iris$Sepal.Width))
            
            	# (3) Speciesê°€ setosaì¸ í–‰ë“¤ì„ ì¶”ì¶œí•˜ë¼
            subset(iris, iris$Species == "setosa")
            ```
            
            <aside>
            ğŸ§‘ğŸ»â€ğŸ’» quiz
            
            Speciesê°€ setosaê°€ **ì•„ë‹Œ** ì• ë“¤ì„ ì¶”ì¶œí•˜ê³  ì‹¶ë‹¤ë©´?
            
            ```r
            iris[-which(iris$Species == "setosa"),]
            
            subset(iris, iris$Species != "setosa")
            ```
            
            </aside>
            
            ë‹¤ìŒì€ ê´€ì‹¬ ë³€ìˆ˜(=ì—´)ë¥¼ ì¶”ì¶œí•˜ëŠ” ë°©ë²•ì„ ì—°ìŠµí•˜ê² ìŠµë‹ˆë‹¤. 
            
            ```r
            # iris ë°ì´í„°ì—ì„œ ì²« ë²ˆì§¸ ì—´ì„ ì¶”ì¶œí•˜ë¼
            iris[,1]
            
            # ì²« ë²ˆì§¸ë¶€í„° ë‹¤ì„¯ ë²ˆì§¸ê¹Œì§€ì˜ ì—´ì„ ì¶”ì¶œí•˜ë¼
            iris[, 1:5]  
            
            # ì²« ë²ˆì§¸, ì„¸ ë²ˆì§¸, ë‹¤ì„¯ ë²ˆì§¸ ì—´ì„ ì¶”ì¶œí•˜ë¼
            iris[, c(1, 3, 5)]
            
            # ë³€ìˆ˜ëª…ì„ ì•Œê³  ìˆëŠ” ê²½ìš°: Sepal ê´€ë ¨ ë³€ìˆ˜ë“¤ë§Œ ì¶”ì¶œí•˜ë¼
            iris[, c("Sepal.Length", "Sepal.Width")] 
            
            # subset() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
            subset(iris, select=c(Sepal.Length, Sepal.Width))
            
            # ë§Œì•½ íŠ¹ì • ë³€ìˆ˜ë§Œì„ ë³´ê³  ì‹¶ë‹¤ë©´: ë°ì´í„°í”„ë ˆì„$ë³€ìˆ˜
            iris$Species 
            ```
            
            ë°ì´í„°í”„ë ˆì„ì—ì„œ ì›í•˜ëŠ” í–‰ê³¼ ì—´ì„ ê°ê° indexingí•˜ì—¬ ì¶”ì¶œí•˜ëŠ” ë°©ë²•ì„ ì—°ìŠµí–ˆìŠµë‹ˆë‹¤. ì´ë²ˆì—ëŠ” í–‰ê³¼ ì—´ì„ ë™ì‹œì— indexingí•´ë´…ì‹œë‹¤. 
            
            ```r
            # iris ë°ì´í„°ì—ì„œ ì²« ë²ˆì§¸ í–‰ê³¼ ë‹¤ì„¯ ë²ˆì§¸ ì—´ì„ ì¶”ì¶œí•˜ë¼
            iris[1,5]
            
            # ì²« ë²ˆì§¸ë¶€í„° ë‹¤ì„¯ ë²ˆì§¸ê¹Œì§€ì˜ í–‰ê³¼ ì²« ë²ˆì§¸ì™€ ë‹¤ì„¯ ë²ˆì§¸ ì—´ì„ ì¶”ì¶œí•˜ë¼
            iris[1:5, c(1,5)]  
            
            # Speciesê°€ setosaì¸ í–‰ë“¤ì˜ Sepal ê´€ë ¨ ë³€ìˆ˜ë“¤ + Speiciesë³€ìˆ˜ë§Œ ì¶”ì¶œí•˜ë¼
            iris[which(iris$Species=="setosa"), c("Sepal.Length", "Sepal.Width", "Species")]
            ```
            
        - `Tidyverse`
            
            `tidyverse`íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•  ê²½ìš° base í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ íŠ¹ì • ì¡°ê±´ì„ ê°–ëŠ” í–‰ê³¼ ì—´ì„ ë”ìš± íš¨ìœ¨ì ìœ¼ë¡œ ì¶”ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í–‰ì„ ì¶”ì¶œí•  ë•Œì—ëŠ” `filter()` í•¨ìˆ˜ë¥¼, ì—´ì„ ì¶”ì¶œí•  ë•Œì—ëŠ” `select()` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. 
            
            ```r
            # iris ë°ì´í„°ì—ì„œ í–‰ ì¶”ì¶œí•˜ê¸°
            	# (1) Sepal.Lengthê°€ í‰ê·  ë¯¸ë§Œì¸ í–‰ë“¤ì„ ì¶”ì¶œí•˜ë¼ 
            iris %>% 
            	filter(Sepal.Length < mean(Sepal.Length))
            
            	# (2) Sepal.Widthê°€ í‰ê·  ì´ìƒì¸ í–‰ë“¤ì„ ì¶”ì¶œí•˜ë¼
            iris %>% 
            	filter(Sepal.Width >= mean(Sepal.Width))
            
            	# (3) Speciesê°€ setosaì¸ í–‰ë“¤ì„ ì¶”ì¶œí•˜ë¼
            iris %>% 
            	filter(Species == "setosa")
            
            # ì—´ ì¶”ì¶œí•˜ê¸° 
            	# (1) Species ì—´ë§Œ ì¶”ì¶œí•˜ë¼
            iris %>%
            	select(Species)
            
            	# (2) Sepal ê´€ë ¨ ë³€ìˆ˜ë“¤ë§Œ ì¶”ì¶œí•˜ë¼
            iris %>%
            	select(Sepal.Length, Sepal.Width) 
            	
            	# (3) Species ë¹¼ê³  ë‚˜ë¨¸ì§€ ë³€ìˆ˜ë“¤ì„ ë‹¤ ì¶”ì¶œí•˜ë¼
            iris %>%
            	select(-Species)
            
            	# (4) Sepal ê´€ë ¨ ë³€ìˆ˜ë“¤ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ë¥¼ ë‹¤ ì¶”ì¶œí•˜ë¼
            iris %>%
              select(-c(Sepal.Length, Sepal.Width))
            
            # Speciesê°€ setosaì¸ í–‰ë“¤ì˜ Sepal ê´€ë ¨ ë³€ìˆ˜ë“¤ + Speiciesë³€ìˆ˜ë§Œ ì¶”ì¶œí•˜ë¼
            iris %>%
            	filter(Species=="setosa") %>%
            	select(Sepal.Length, Sepal.Width, Species)
            ```
            
        
        **Preprocessing: ë³€ìˆ˜ ì „ì²˜ë¦¬í•˜ê¸°**
        
        - Base syntax in R
            
            ë°ì´í„°ëŠ” `palmerpenguins`íŒ¨í‚¤ì§€ ë‚´ì¥ ë°ì´í„°ì¸ `penguins` ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤. 
            
            **(1) ê²°ì¸¡ì¹˜ ì²˜ë¦¬** 
            
            ```r
            library(palmerpenguins)
            data("penguins")
            summary(penguins) 
            
            # ë¨¼ì € base R syntax ë¥¼ ì‚¬ìš©í•´ì„œ ê²°ì¸¡ì¹˜ ì²˜ë¦¬ë¥¼ í•´ë´…ë‹ˆë‹¤. 
            # ì–´ë””ì— ê²°ì¸¡ì¹˜ê°€ ìˆì„ê¹Œ? í™•ì¸ 
            colSums(is.na(penguins)) # column ë³„ë¡œ sum ê³„ì‚° 
            penguins[which(is.na(penguins$bill_depth_mm)),] # êµ¬ì²´ì ìœ¼ë¡œ í™•ì¸í•´ë³´ì 
            penguins[which(is.na(penguins$sex)),]
            
            # sex ë³€ìˆ˜ì—ì„œ ê²°ì¸¡ì¹˜ë¥¼ ê°€ì§„ ì¼€ì´ìŠ¤ë¥¼ ëª¨ë‘ ì œê±°í•˜ê³  ìƒˆë¡œìš´ ë°ì´í„°ë¡œ ì €ì¥í•´ ë´…ë‹ˆë‹¤. 
            penguins_new = penguins[-which(is.na(penguins$sex)),]
            summary(penguins_new) # í™•ì¸ 
            
            # ë” ì‰¬ìš´ ë°©ë²•: na.omit()
            na.omit(penguins) 
            
            # ì°¸ê³ ) ìƒˆë¡œìš´ ë°ì´í„°ë¡œ ì €ì¥í•´ì£¼ì…”ì•¼ ì—…ë°ì´íŠ¸ ë©ë‹ˆë‹¤.  
            ```
            
            **(2) ìƒˆ ë³€ìˆ˜ ë§Œë“¤ê¸°** 
            
            í­ê·„ë“¤ì˜ ë¶€ë¦¬(bill)ì˜ lengthì™€ depthë¥¼ ê³±í•´ì„œ ë©´ì (area) ë³€ìˆ˜ë¥¼ ìƒˆë¡œ ë§Œë“¤ì–´ ë´…ì‹œë‹¤. 
            
            ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%2010.png)
            
            ```r
            # Base R syntax: 
            penguins_new$bill_area_mm <- penguins_new$bill_depth_mm * penguins_new$bill_length_mm
            ```
            
            í­ê·„ë“¤ì˜ body massëŠ” í˜„ì¬ gram ë‹¨ìœ„ë¡œ ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ kg ë‹¨ìœ„ë¡œ ë°”ê¿” ìƒˆë¡œìš´ ë³€ìˆ˜ë¡œ ì €ì¥í•´ ì£¼ì„¸ìš”. 
            
            ```r
            # Base R syntax: 
            penguins_new$body_mass_kg <- (penguins_new$body_mass_g)/1000
            ```
            
            **(3) ë³€ìˆ˜ ë²”ì£¼í™”(categorizing; grouping)**
            
            ì—°ì†í˜• ë³€ìˆ˜ë¥¼ ë²”ì£¼í™”í•´ë´…ì‹œë‹¤. í­ê·„ë“¤ì˜ body_mass_kg ë³€ìˆ˜ì˜ ë¶„í¬ë¥¼ ì‚´í´ë³´ì„¸ìš”. ì¤‘ìœ„ê°’ ì´í•˜ì˜ ê²½ìš° 0ì˜ ê°’ì„, ì¤‘ìœ„ê°’ ì´ˆê³¼ì˜ ê²½ìš° 1ì˜ ê°’ì„ ê°–ëŠ” ì´í•­ ë³€ìˆ˜ë¡œ ë²”ì£¼í™”í•´ì£¼ì„¸ìš”. 
            
            ```r
            # ë¶„í¬ í™•ì¸ 
            summary(penguins_new$body_mass_kg) 
            quantile(penguins_new$body_mass_kg) 
            
            # recoding 
            penguins_new$body_mass_kg[penguins_new$body_mass_kg <= 4.050] = "ì¤‘ìœ„ê°’ ì´í•˜"
            penguins_new$body_mass_kg[penguins_new$body_mass_kg > 4.050] = "ì¤‘ìœ„ê°’ ì´ˆê³¼"
            
            # check 
            table(penguins_new$body_mass_kg)
            ```
            
            ì´ëŸ° ë°©ì‹ì˜ ì¬ë¶€í˜¸í™”ëŠ” ê¸°ì¡´ ë³€ìˆ˜ ìœ„ì—ë‹¤ íŠ¹ì • ì¡°ê±´ì— ë¶€í•©í•˜ëŠ” ê²½ìš°ì—ë§Œ íŠ¹ì • ê°’ì„ ë®ì–´ì“´ë‹¤ëŠ” ì ì—ì„œ ì¶”ì²œë“œë¦¬ì§€ ì•ŠìŠµë‹ˆë‹¤. í•­ìƒ ì „ì²˜ë¦¬ë¥¼ í•˜ì‹¤ ë•Œì—ëŠ” ì›ë˜ ë³€ìˆ˜ë¥¼ ê·¸ë˜ë„ ë†”ë‘” ì±„ë¡œ ìƒˆë¡œìš´ ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ëŠ” í¸ì´ ì¢‹ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ base í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ëŠ” ê²½ìš°, ê·¸ ë°©ì‹ì´ ë§¤ìš° ë³µì¡í•´ ì§‘ë‹ˆë‹¤. ì¼ë‹¨ ë¹ˆ ê¹¡í†µ(ë²¡í„°)ì„ í•˜ë‚˜ ë§Œë“¤ì–´ ë‘ê³ , ì´ ë¹ˆ ê¹¡í†µì— if else êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ê°’ì„ í•˜ë‚˜ì”© ì±„ì›Œ ë„£ìŠµë‹ˆë‹¤. ì´í›„ ê°’ì´ ëª¨ë‘ ì±„ì›Œì§„ ë²¡í„°ë¥¼ ë°ì´í„°ì˜ ìƒˆ ë³€ìˆ˜ë¡œ ë¶™ì—¬ ì“°ë©´ ë©ë‹ˆë‹¤. ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. ë‹¨, ì´ ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ì„  for êµ¬ë¬¸(loop), if else êµ¬ë¬¸ ë“±ì˜ í•¨ìˆ˜ ê¸°ëŠ¥ì„ ê³µë¶€í•˜ì…”ì•¼ í•˜ë¯€ë¡œ ì°¸ê³ ë§Œ í•´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤. 
            
            ```r
            body_mass_group = c() # ë¹ˆ ê¹¡í†µ ë§Œë“¤ê¸° 
            
            # for êµ¬ë¬¸ + if else êµ¬ë¬¸ í˜¼í•©í•˜ì—¬ ë¹ˆ ê¹¡í†µì— ê°’ ì±„ì›Œë„£ê¸° 
            for(i in 1:nrow(penguins_new)){
              if(penguins_new$body_mass_kg [i] <= 4.050){
                body_mass_group[i] = "ì¤‘ìœ„ê°’ ì´í•˜"
              }else{
                body_mass_group[i] = "ì¤‘ìœ„ê°’ ì´ˆê³¼"
              }}
            
            penguins_new$body_mass_group = body_mass_group # ê°’ì´ ì±„ì›Œì§„ ë²¡í„°ë¥¼ ìƒˆë¡œìš´ ë³€ìˆ˜ë¡œ í• ë‹¹ 
            
            # í™•ì¸
            table(penguins_new$body_mass_group) 
            ```
            
        - `Tidyverse`
            
            ì´ì œê¹Œì§€ (1) ê²°ì¸¡ì¹˜ ì²˜ë¦¬, (2) ìƒˆ ë³€ìˆ˜ ë§Œë“¤ê¸°, ê·¸ë¦¬ê³  (3) ë²”ì£¼í™”ë¥¼ Rì˜ base syntax ë§Œìœ¼ë¡œ í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ ì–´ë–¤ íŒ¨í‚¤ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ì•Šë”ë¼ë„ base í•¨ìˆ˜ë§Œìœ¼ë¡œë„ ë¶„ì„ì´ ê°€ëŠ¥í•˜ê¸´ í•©ë‹ˆë‹¤ë§Œ, ë” íš¨ìœ¨ì ì´ê³  ì‰¬ìš´ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. `Tidyverse`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë™ì¼í•œ ë¶„ì„ì„ í•œë²ˆì— ì§„í–‰í•´ ë³´ê² ìŠµë‹ˆë‹¤. ì´ íŒ¨í‚¤ì§€ì˜ ê°€ì¥ í° ì¥ì ì€ `%>%` (pipe operator; `|>` ë„ ê°€ëŠ¥)ì„ í†µí•œ ì—°ì†ì ì´ê³  íš¨ìœ¨ì ì¸ ì½”ë”©ì…ë‹ˆë‹¤. `Tidyverse`ë¬¸ë²•ì—ì„œëŠ” ë³€ìˆ˜ ì „ì²˜ë¦¬ë¥¼ í•  ë•Œ `mutate()` ë¥¼ ì‚¬ìš©í•´ ì¤ë‹ˆë‹¤. ë˜í•œ â€˜ë¹ˆ ê¹¡í†µì„ ë§Œë“¤ê³  â†’ for loop, if else êµ¬ë¬¸ì„ ì¡°í•©í•˜ì—¬ ê°’ì„ ì±„ì›Œ ë„£ê³  â†’ ê°’ì„ ì±„ìš´ ë²¡í„°ë¥¼ ìƒˆë¡œìš´ ë³€ìˆ˜ë¡œ í• ë‹¹â€™í•˜ëŠ” ê³¼ì •ì„ ë” ë‹¨ìˆœí™”í•´ì£¼ëŠ” `ifelse()` í•¨ìˆ˜ë„ `Tidyverse` ë¥¼ ì‚¬ìš©í•˜ëŠ” í° ì´ìœ  ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.  
            
            ```r
            # Tidyverse 
            penguins %>% # ë¶„ì„ ëŒ€ìƒì´ ë˜ëŠ” ë°ì´í„° 
              drop_na()  %>% # ê²°ì¸¡ì¹˜ ì²˜ë¦¬ 
              mutate(bill_area_mm = bill_depth_mm*bill_length_mm, # ë¶€ë¦¬ ë©´ì  ë³€ìˆ˜ ìƒì„±
                     body_mass_kg = body_mass_g/1000, # ë¬´ê²Œ kg ë‹¨ìœ„ë¡œ ë°”ê¾¼ ë³€ìˆ˜ ìƒì„± 
                     body_mass_group = ifelse(body_mass_kg > median(body_mass_kg), "ì¤‘ìœ„ê°’ ì´ˆê³¼", "ì¤‘ìœ„ê°’ ì´í•˜")
            				 ) -> penguins_new_tidy # ìƒˆ ë°ì´í„°ë¡œ ì €ì¥ 
            
            # í™•ì¸
            table(penguins_new_tidy$body_mass_group)
            ```
            
            - **(ë³´ë„ˆìŠ¤) tidyverse - group_by()**
            
            `tidyverse`íŒ¨í‚¤ì§€ì˜ `group_by()` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ê·¸ë£¹ ë³„ë¡œ ë³€ìˆ˜ ì „ì²˜ë¦¬ë¥¼ ê°„í¸í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `gapminder`Â ë°ì´í„°ëŠ” êµ­ê°€ë“¤ì´ ëŒ€ë¥™ ê·¸ë¦¬ê³  ì—°ë„ ì•ˆì— nested ë˜ì–´ ìˆëŠ” êµ¬ì¡°ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ê·¸ë£¹ ë³„ë¡œ í‰ê· ì„ ê³„ì‚°í•˜ëŠ” ì—°ìŠµì„ í•´ë´…ì‹œë‹¤. 
            
            ```r
            # ëŒ€ë¥™ ë³„ ë³€ìˆ˜ í‰ê·  ìš”ì•½í•˜ê¸°: summarise(), mean() 
            gapminder %>%
              group_by(continent) %>% # ëŒ€ë¥™ ë³„ë¡œ ë¬¶ì–´ì„œ 
              summarise(  
                lifeExp_mean = mean(lifeExp), # í‰ê·  ê°’ë“¤ì„ ìš”ì•½í•´ë¼ 
                pop_mean = mean(pop), 
                gdpPercap_mean = mean(gdpPercap)
              )
            
            # ì—°ë„ ë³„  
            gapminder %>%
              group_by(year) %>% # ì—°ë„ ë³„ë¡œ ë¬¶ì–´ì„œ 
              summarise( 
                lifeExp_mean = mean(lifeExp), # í‰ê·  ê°’ë“¤ì„ ìš”ì•½í•´ë¼ 
                pop_mean = mean(pop), 
                gdpPercap_mean = mean(gdpPercap)
              )
            
            # ëŒ€ë¥™ X ì—°ë„ ë³„ ë³€ìˆ˜ í‰ê·  êµ¬í•œ ë³€ìˆ˜ë¥¼ ìƒˆë¡œìš´ ë³€ìˆ˜ë¡œ ì¶”ê°€í•˜ê¸°: mutate() 
            gapminder %>%
              group_by(continent, year) %>% 
              mutate( 
                lifeExp_mean = mean(lifeExp),  
                pop_mean = mean(pop), 
                gdpPercap_mean = mean(gdpPercap)
              ) -> test
            
            # í™•ì¸ 
            glimpse(test)
            ```
            

---

1. ë°ì´í„° ì‹œê°í™” **Visualizastion in R**
    - 4-1. R ê¸°ë³¸ ê·¸ë˜í”„ ***R base plot***
        
        ë¨¼ì € Rì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” base í•¨ìˆ˜ë“¤ë¡œ ì‹œê°í™” ì—°ìŠµì„ í•´ë³¸ í›„, `tidyverse`ì˜ `ggplot2()` ë¥¼ í†µí•´ ì‹œê°í™”í•˜ëŠ” ì—°ìŠµì„ í•´ë³´ê² ìŠµë‹ˆë‹¤. 
        
        Base í•¨ìˆ˜ë“¤ ì¤‘ ìì£¼ ì“°ëŠ” ê²ƒë“¤ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤: `plot()`, `hist()`,Â `barplot()`ê·¸ë¦¬ê³ Â `boxplot()`. ì´ í•¨ìˆ˜ë“¤ì„ ì‚¬ìš©í•˜ì—¬ `gapminder` ë°ì´í„°ë¥¼ ë‹¤ì–‘í•˜ê²Œ ì‹œê°í™”í•´ ë´…ì‹œë‹¤. 
        
        ```r
        # plot() : ë³€ìˆ˜ë“¤ ê°„ ê´€ê³„ë¥¼ í•œ ëˆˆì— ë³¼ ìˆ˜ ìˆëŠ” ì´ë³€ëŸ‰ ê·¸ë˜í”„ ê·¸ë¦¬ê¸° (ì‚°ì ë„; scatterplot) 
        plot(gapminder)
        ```
        
        ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%2011.png)
        
        ì˜ˆ) ê¸°ëŒ€ìˆ˜ëª…ì´ ì¦ê°€í• ìˆ˜ë¡ ì¸êµ¬ëŠ” ì–´ë–»ê²Œ ë³€í™”í• ê¹Œìš”? xì¶•ì€ lifeExp, yì¶•ì€ popì˜ ê°’ë“¤ì„ ì‚°ì ë„ë¡œ ê·¸ë ¤ í‘œí˜„í•œ ê²ƒì´ ë°”ë¡œ 5í–‰ 4ì—´ì— ìˆëŠ” ê·¸ë˜í”„ì…ë‹ˆë‹¤. íŒ¨í„´ì„ ë³´ë‹ˆ lifeExp ë³€ìˆ˜ì™€ pop ë³€ìˆ˜ ê°„ ì–‘ì˜ ìƒê´€ê´€ê³„ê°€ ìˆìŠµë‹ˆë‹¤. ì¦‰ ê¸°ëŒ€ìˆ˜ëª…ì´ ë†’ì•„ì§ˆìˆ˜ë¡ ì¸êµ¬ëŠ” ì¦ê°€í•˜ëŠ” ì¶”ì„¸ë¥¼ ë³´ì…ë‹ˆë‹¤. 
        
        ì´ ë‘ ë³€ìˆ˜ ê°„ ê·¸ë˜í”„ë¥¼ í™•ëŒ€í•´ ë³¼ê¹Œìš”? `plot(xì¶•, yì¶•)` 
        
        ```r
        plot(gapminder$lifeExp, gapminder$pop) 
        
        # options ì¶”ê°€ 
        plot(gapminder$lifeExp, gapminder$pop, col=gapminder$country, pch=19, 
             xlab="Life Expectancy", ylab="Population", 
        		 main="Relationship between life expectancy and population")
        ```
        
        ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%2012.png)
        
        ì—°ì†í˜• ë³€ìˆ˜ì˜ ë¹ˆë„ ë¶„í¬ë¥¼ ì‚´í´ë³´ëŠ” ë°ì—ëŠ” `hist()` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ê¸°ëŒ€ìˆ˜ëª… ë³€ìˆ˜ì˜ íˆìŠ¤í† ê·¸ë¨ì„ ê·¸ë ¤ë´…ì‹œë‹¤. 
        
        ```r
        hist(gapminder$lifeExp)
        
        # customize 
        colors() # check available colors in R 
        hist(gapminder$lifeExp, col="whitesmoke", 
        		 xlab="Life Expectancy", main="Histogram of Life Expectancy")
        abline(v=mean(gapminder$lifeExp), col="wheat4", lty=2, lwd=2) # add line
        ```
        
        ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%2013.png)
        
        ë‹¤ìŒì€ ë²”ì£¼í˜• ë³€ìˆ˜ì˜ ë¶„í¬ë¥¼ ì‚´í´ë³´ê¸°ì— ì¢‹ì€ `barplot()` ì…ë‹ˆë‹¤. ê° ëŒ€ë¥™ì— í•´ë‹¹í•˜ëŠ” ê°’ë“¤ì´ ëª‡ ë²ˆ ë“±ì¥í•˜ëŠ”ì§€ë¥¼ ì‹œê°í™”í•´ë´…ì‹œë‹¤. 
        
        ```r
        table(gapminder$continent) # ë¹ˆë„í‘œ 
        
        # ë¹ˆë„í‘œ ìì²´ë¥¼ inputìœ¼ë¡œ ë„£ì–´ì„œ barplot ê·¸ë¦¬ê¸°
        barplot(table(gapminder$continent)) 
        
        barplot(table(gapminder$continent), 
                col = c("lightblue", "mistyrose",
                        "lightcyan", "lavender", "whitesmoke"),
                main = "Barplot")
        ```
        
        ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%2014.png)
        
        ë§ˆì§€ë§‰ìœ¼ë¡œ ë²”ì£¼í˜• ë³€ìˆ˜ ë³„ë¡œ ì—°ì†í˜• ë³€ìˆ˜ì˜ ë¶„í¬ë¥¼ ì‚´í´ë³´ê¸°ì— ì¢‹ì€ `boxplot()` ì…ë‹ˆë‹¤. ê° ëŒ€ë¥™ ë³„ë¡œ ê¸°ëŒ€ìˆ˜ëª…ì˜ ë¶„í¬ë¥¼ ì‹œê°í™”í•´ë´…ì‹œë‹¤. 
        
        ```r
        boxplot(lifeExp ~ continent , data = gapminder) 
        
        boxplot(lifeExp ~ continent , data = gapminder,
                col = c("lightblue", "mistyrose",
                        "lightcyan", "lavender", "whitesmoke"),
                main = 'Boxplot',
                xlab = "Continent", 
                ylab = "Life Expectancy")
        ```
        
        ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%2015.png)
        
    - 4-2. `**Tidyverse - ggplot2**`
        
        ë‹¤ìŒì€ `tidyverse`ì˜ `ggplot2` ë¥¼ í†µí•œ ì‹œê°í™”ë¥¼ ì—°ìŠµí•´ ë³´ê² ìŠµë‹ˆë‹¤. `ggplot2`ì˜ â€œ*GGâ€ëŠ” Gramar of Graphics*Â ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. `%>%` (íŒŒì´í”„ ì—°ì‚°ì)ë¥¼ í†µí•´ ì¸µì„ ê²¹ê²¹ì´ ìŒ“ì•„ì˜¬ë ¤ íš¨ìœ¨ì ì¸ ì‹œê°í™”ê°€ ê°€ëŠ¥í•˜ë©°, ì—¬ëŸ¬ê°€ì§€ í…Œë§ˆë¥¼ ì ìš©í•˜ì—¬ customizeí•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ ì¥ì ì…ë‹ˆë‹¤ (ë°˜ëŒ€ë¡œ ë§í•˜ë©´, ììœ ë„ê°€ ë†’ë‹¤ëŠ” ê²Œ ì²˜ìŒ ë°°ìš¸ ë•Œ ì§„ì…ì¥ë²½ìœ¼ë¡œ ì‘ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤). í•˜ë‚˜ì”© ì²œì²œíˆ í•´ë´…ì‹œë‹¤! 
        
        ê¸°ë³¸ì ì¸ ë¬¸ë²• êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤: 
        
        ```r
        ë°ì´í„° %>% 
        		ggplot(aes(x=xì¶•ì— ì˜¬ ë³€ìˆ˜ ì´ë¦„, y=yì¶•ì— ì˜¬ ë³€ìˆ˜ ì´ë¦„)) + # aesthetic - coordination space ê·¸ë¦¬ê¸° 
        		geom_point() + # geometry - geom_ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” í•¨ìˆ˜ ì…ë ¥ 
        		theme() # theme ì ìš© - ê¾¸ë¯¸ê¸°
        ```
        
        `ggplot()` í•¨ìˆ˜ë¥¼ í†µí•´ ì¶•ì„ ì„¤ì •í•˜ê³  ì¢Œí‘œ ê³µê°„ì„ ë¨¼ì € ë§Œë“¤ì–´ ì£¼ì‹  í›„ì—ëŠ” íŒŒì´í”„ ì—°ì‚°ìê°€ ì•„ë‹Œ `+`ë¡œ ì—°ê²°ì„ í•´ì£¼ì„¸ìš”. 
        
        ```r
        # scatterplot
        # basic form: 
        gapminder %>% 
          ggplot(aes(x=lifeExp, y=pop)) + 
          geom_point()
        
        # color by continent: 
        gapminder %>% 
          ggplot(aes(x=lifeExp, y=pop, col=continent)) + 
          geom_point()
        ```
        
        ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%2016.png)
        
        ```r
        # theme: 
        # ì•„ë˜ì˜ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ ì£¼ì‹œê³ , ë¶ˆëŸ¬ì™€ ì£¼ì„¸ìš”:
        install.packages("ggthemes")
        install.packages("ggpubr")
        library(ggthemes)
        library(ggpubr) 
        
        gapminder %>% 
          ggplot(aes(x=lifeExp, y=pop, col=continent)) + 
          geom_point() +
          theme_pander() + # í…Œë§ˆ ì„¤ì • 
        	xlab("Life Expectancy") + # xì¶• ë¼ë²¨
        	ylab("Population")  # yì¶• ë¼ë²¨
        
        gapminder %>% 
          ggplot(aes(x=lifeExp, y=pop, col=continent)) + 
          geom_point() +
          theme_pander() + 
          xlab("Life Expectancy") +
          ylab("Population") +
          ggtitle("Relationship between life expectancy and population") + # ê·¸ë˜í”„ ì œëª© 
          theme(legend.position = "bottom") + # ë²”ë¡€ ìœ„ì¹˜ 
          scale_color_wsj() # ìƒ‰ìƒ í…Œë§ˆ ì ìš© 
        ```
        
        ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%2017.png)
        
        ëŒ€ë¥™ë³„ë¡œ ë”°ë¡œ ê·¸ë¦¬ê³  ì‹¶ë‹¤ë©´: `facet_grid()` í•¨ìˆ˜ë¥¼ ì¶”ê°€. (ìë§¤í’ˆ: `facet_wrap()` ë„ ìˆìŒ) 
        
        ```r
        gapminder %>% 
          ggplot(aes(x=lifeExp, y=pop, col=continent)) + 
          geom_point() +
          theme_pander() + 
          xlab("Life Expectancy") +
          ylab("Population") +
          ggtitle("Relationship between life expectancy and population") + 
          theme(legend.position = "none") +  # ë²”ë¡€ ì‚­ì œ 
          scale_color_wsj() +
          facet_grid(~continent) # ëŒ€ë¥™ ë³„ë¡œ ë”°ë¡œ gridë¥¼ ì„¤ì • 
        ```
        
        ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%2018.png)
        
        ë‹¤ìŒì€ ê¸°ëŒ€ìˆ˜ëª… ë³€ìˆ˜ì˜ íˆìŠ¤í† ê·¸ë¨ì„ ê·¸ë ¤ë´…ì‹œë‹¤. 
        
        ```r
        gapminder %>% 
          ggplot(aes(x=lifeExp)) + 
          geom_histogram() +
          theme_pander()
          xlab("Life Expectancy")
        ```
        
        ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%2019.png)
        
        ë°” ê·¸ë˜í”„ë¥¼ ê·¸ë ¤ ë´…ì‹œë‹¤. ëŒ€ë¥™ ë³„ë¡œ gdpPercap ë³€ìˆ˜ì˜ í‰ê· ì„ ê³„ì‚°í•˜ì—¬ gdppc ë³€ìˆ˜ë¥¼ ìƒˆë¡œ ë§Œë“¤ì–´ ì£¼ì‹  í›„, xì¶•ì—ëŠ” ëŒ€ë¥™, yì¶•ì—ëŠ” gdppc í‰ê·  ê°’ì´ ì˜¤ë„ë¡ ì¶•ì„ ì„¤ì •í•´ ì£¼ì„¸ìš”. ì´ë²ˆì—ëŠ” Stata í…Œë§ˆë¥¼ ì ìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤. 
        
        ```r
        gapminder %>%
          group_by(continent) %>% # continent ë³„ë¡œ 
          summarise( 
            gdppc = mean(gdpPercap) # gdpPercap ë³€ìˆ˜ì˜ í‰ê·  ê°’ì„ ì·¨í•´ gdppc ë³€ìˆ˜ì— ë„£ì–´ë¼ 
          ) %>%  # ì´ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ggplotì„ ê·¸ë¦¬ì 
          ggplot(aes(x=continent, y=gdppc, fill=continent)) + # ì¢Œí‘œ ì„¤ì • 
          geom_col() + # ë°” ê·¸ë˜í”„ ê·¸ë ¤ ë„£ì„ ê²ƒì„ì„ ì•Œë ¤ì£¼ê³ , 
          theme_stata() + # í…Œë§ˆ ì„¤ì • 
          scale_fill_stata() # ëŒ€ë¥™ ë³„ë¡œ ìƒ‰ìƒì„ ì±„ì›Œ ë„£ì„ ë•Œ ìƒ‰ìƒ í…Œë§ˆ ë˜í•œ ì„¤ì • 
        ```
        
        ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%2020.png)
        
        ë§ˆì§€ë§‰ìœ¼ë¡œ ê° ëŒ€ë¥™ ë³„ë¡œ ê¸°ëŒ€ìˆ˜ëª…ì˜ ë¶„í¬ë¥¼ ë°•ìŠ¤í”Œë¡¯ìœ¼ë¡œ ì‹œê°í™”í•´ë´…ì‹œë‹¤. í…Œë§ˆëŠ” ë¯¸ë‹ˆë©€ í…Œë§ˆë¡œ ì„¤ì •í•˜ê³ , ë²”ë¡€ëŠ” ì œê±°í•´ ì¤ì‹œë‹¤. 
        
        ```r
        gapminder %>%
          ggplot(aes(x=continent, y=lifeExp, fill=continent)) + 
          geom_boxplot() +
          theme_minimal() +
          theme(legend.position = "none"))
        ```
        
        ![Untitled](Introduction%20to%20R%20ee13128818d44582beb7844bfec6d5e1/Untitled%2021.png)
        

---

1. ë‚˜ê°€ë©° **Further Tips**
    - ìœ ìš©í•œ ì†ŒìŠ¤ë“¤ ***Useful open sources***
        
        [Welcome | R for Data Science](https://r4ds.had.co.nz/index.html)
        
        [R Graphics Cookbook, 2nd edition](https://r-graphics.org/)
        
        [Welcome | ggplot2](https://ggplot2-book.org/index.html)
